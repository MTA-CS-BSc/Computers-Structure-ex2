CHIP Dec2x4 {
    IN a, b, enabled;
    OUT out[4];

    PARTS:
    Dec1x2(in=a, enabled=true, out=outa);
    Dec1x2(in=b, enabled=outa[1], out=outb1);
    Dec1x2(in=b, enabled=outa[0], out=outb2);
    And(a=outb2[0], b=outb2[0], out=out[0]);
    And(a=outb2[1], b=outb2[1], out=out[1]);
    And(a=outb1[0], b=outb1[0], out=out[2]);
    And(a=outb1[1], b=outb1[1], out=out[3]);
}